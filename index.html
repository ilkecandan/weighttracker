<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weight Tracker</title>
  <meta name="description" content="Track your weight progress with beautiful charts">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="images/icon.png">
  <meta name="theme-color" content="#4a90e2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Weight Tracker">
  <link rel="apple-touch-icon" href="images/icon.png">
</head>
<body>
  <main>
    <!-- Header Section -->
    <div class="header-section">
      <h1><i class="fas fa-weight"></i> Weight Tracker</h1>
      <p class="privacy-notice">Your data is encrypted and stays 100% on your device</p>
      <div class="theme-toggle">
        <button id="themeBtn"><i class="fas fa-moon"></i> Dark Mode</button>
      </div>
    </div>

    <!-- Quick Add Floating Button -->
    <button id="fabBtn" class="fab">
      <i class="fas fa-plus"></i>
    </button>

    <!-- Quick Add Card -->
    <div id="quickAddCard" class="quick-add-card">
      <h3>Quick Add Today's Weight</h3>
      <input type="number" id="quickAddWeight" placeholder="Weight (kg)" step="0.1" />
      <button id="quickAddSubmit" class="primary-btn">Save</button>
    </div>

    <!-- Main Content Sections -->
    <section id="dashboard" class="main-section">
      <!-- Input Section -->
      <div class="card input-section">
        <h2><i class="fas fa-edit"></i> New Entry</h2>
        <label for="date">Date:</label>
        <input type="date" id="date" />
        <label for="weight">Weight (kg):</label>
        <input type="number" id="weight" placeholder="Enter your weight" step="0.1" />
        <div class="button-group">
          <button id="saveBtn" class="primary-btn"><i class="fas fa-save"></i> Save Entry</button>
        </div>
      </div>

      <!-- Goal Section -->
      <div class="card goal-section">
        <h2><i class="fas fa-bullseye"></i> Weight Goal</h2>
        <div class="goal-content">
          <p>Current Goal: <strong id="currentGoalDisplay">Not Set</strong></p>
          <div class="goal-input">
            <label for="targetWeight">Target Weight (kg):</label>
            <input type="number" id="targetWeight" placeholder="Your goal weight" step="0.1" />
            <button id="setGoalBtn" class="primary-btn"><i class="fas fa-check"></i> Update Goal</button>
          </div>
          <div id="goalProgress" class="progress-container">
            <!-- Progress will be shown here -->
          </div>
        </div>
      </div>

      <!-- Stats Section -->
      <div class="card stats-section">
        <h2><i class="fas fa-chart-bar"></i> Your Stats</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <h3>Current</h3>
            <p id="currentWeight">-- kg</p>
          </div>
          <div class="stat-card">
            <h3>Change (7d)</h3>
            <p id="weeklyChange">-- kg</p>
          </div>
          <div class="stat-card">
            <h3>Change (30d)</h3>
            <p id="monthlyChange">-- kg</p>
          </div>
          <div class="stat-card">
            <h3>Streak</h3>
            <p id="streakCount">-- days</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Chart Section -->
    <section id="progress" class="main-section" style="display:none">
      <div class="card chart-section">
        <div class="filter-controls">
          <div class="filter-group">
            <label for="timeRange">View Range:</label>
            <select id="timeRange">
              <option value="7">Last 7 Days</option>
              <option value="30" selected>Last 30 Days</option>
              <option value="90">Last 90 Days</option>
              <option value="365">Last Year</option>
              <option value="all">All Time</option>
            </select>
          </div>
          <button id="exportBtn" class="secondary-btn"><i class="fas fa-file-export"></i> Export CSV</button>
        </div>
        
        <div class="chart-container">
          <canvas id="weightChart"></canvas>
          <div id="noDataMessage" style="display:none">
            <i class="fas fa-chart-line"></i>
            <p>No data available. Add your first weight entry to see your progress chart.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Entries Section -->
    <section id="entries" class="main-section" style="display:none">
      <div class="card entries-section">
        <h2><i class="fas fa-list"></i> Your Entries</h2>
        <div class="entries-controls">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="searchEntry" placeholder="Search entries..." />
          </div>
        </div>
        <div class="entries-table-container">
          <table id="entriesTable">
            <thead>
              <tr>
                <th>Date</th>
                <th>Weight</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <!-- Entries will be populated here -->
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Bottom Navigation -->
    <nav id="bottomNav" class="bottom-nav">
      <div class="nav-item active" data-target="dashboard">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
      </div>
      <div class="nav-item" data-target="progress">
        <i class="fas fa-chart-line"></i>
        <span>Progress</span>
      </div>
      <div class="nav-item" data-target="entries">
        <i class="fas fa-list"></i>
        <span>Entries</span>
      </div>
    </nav>

    <!-- Install Banner -->
    <div id="installBanner" class="install-banner" style="display:none">
      <p>Install this app for a better experience!</p>
      <div>
        <button id="dismissBanner" class="secondary-btn">Not Now</button>
        <button id="installBannerBtn"><i class="fas fa-download"></i> Install</button>
      </div>
    </div>
  </main>

  <!-- Edit Modal -->
  <div id="editModal" class="modal">
    <div class="modal-content card">
      <span class="close-modal">&times;</span>
      <h2><i class="fas fa-edit"></i> Edit Entry</h2>
      <label for="editDate">Date:</label>
      <input type="date" id="editDate" />
      <label for="editWeight">Weight (kg):</label>
      <input type="number" id="editWeight" step="0.1" />
      <div class="modal-button-group">
        <button id="saveEditBtn" class="primary-btn"><i class="fas fa-save"></i> Save Changes</button>
        <button id="deleteEntryBtn" class="delete-btn"><i class="fas fa-trash"></i> Delete Entry</button>
      </div>
    </div>
  </div>

  <!-- Onboarding Modal -->
  <div id="onboardingModal" class="modal onboarding-modal">
    <div class="modal-content card">
      <span class="close-modal" id="onboardingClose">&times;</span>
      
      <div class="onboarding-step">
        <div class="onboarding-icon">
          <i class="fas fa-weight"></i>
        </div>
        <h2>Welcome to Weight Tracker</h2>
        <p>Track your weight journey with beautiful charts and insights.</p>
      </div>
      
      <div class="onboarding-step" style="display:none">
        <div class="onboarding-icon">
          <i class="fas fa-bullseye"></i>
        </div>
        <h2>Set Your Goal</h2>
        <p>Establish a target weight and track your progress towards it.</p>
      </div>
      
      <div class="onboarding-step" style="display:none">
        <div class="onboarding-icon">
          <i class="fas fa-chart-line"></i>
        </div>
        <h2>Visualize Progress</h2>
        <p>See your weight trends over time with interactive charts.</p>
      </div>
      
      <div class="onboarding-step" style="display:none">
        <div class="onboarding-icon">
          <i class="fas fa-lock"></i>
        </div>
        <h2>Your Data is Secure</h2>
        <p>All your data is encrypted and stored only on your device.</p>
      </div>
      
      <div class="onboarding-controls">
        <button id="onboardingPrev" class="secondary-btn"><i class="fas fa-arrow-left"></i> Back</button>
        <button id="onboardingNext" class="primary-btn">Next <i class="fas fa-arrow-right"></i></button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.2"></script>
  <script src="app.js"></script>
</body>
</html>
